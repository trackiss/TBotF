# GAME BOY® PROGRAMMING MANUAL Version 1.1J (Released 07/xx/2019, Original Released 12/03/1999)

このドキュメントは、とあるゲームボーイプログラミングマニュアルを日本語化し、独自の解釈による注釈を書き加えた上で再構成したものです。例によって超意訳です。

このドキュメントの原文は… いや、出自がよくわかんないんですよね。きっとどこぞのすごい方が書いてくれたのでしょう。  
…ほんと、察してください。マジで。  
何かあったら、このドキュメントは即刻削除して電子の海に葬りますのでそのおつもりで。

当ドキュメントに表記される®及びその他の商品名は、株式会社任天堂の登録商標または商品です。  
これらは金銭的利益を得る目的ではなく、教育あるいはより高度な研究を目的として、また、当該企業の権利と利益を保障する為に表記されるものである事を、ここに宣言致します。

当ドキュメントは、株式会社任天堂及びその関連会社とは何の関係もありません。当ドキュメントに関する問い合わせは、trackiss (Twitter: @twi_trackiss)までどうぞ。

<br>

---

# INTRODUCTION - イントロダクション

このマニュアルは、「Game Boy Development Manual」のリビジョンG、及び「Game Boy Color User's Guide」のバージョン1.3に記載されている情報を再構成し、組み合わせたものです。加えて、スーパーゲームボーイとゲームボーイ ポケットプリンター向けのプログラミングを含めたゲームボーイプログラミングに関する全ての情報が組み込まれています。

このマニュアルで使用されている略語は、以下の通りです:

<dl>
  <dt>DMG</dt>
  <dd>ゲームボーイ (モノクロ)、1989年4月21日発売</dd>
  <dt>MGB</dt>
  <dd>ゲームボーイポケット (モノクロ)、1996年7月21日発売</dd>
  <dt>MGL</dt>
  <dd>ゲームボーイライト (モノクロ)、1998年4月14日発売</dd>
  <dt>CGB</dt>
  <dd>ゲームボーイカラー (カラー)、1998年10月21日発売</dd>
</dl>

> **Note:**  
> 特別な理由がない限り、モノクロの機種を総称してDMG、カラーの機種を総称してCGBと呼称します。それぞれのモデルを区別する必要がある場合には、ゲームボーイポケットをMGB、ゲームボーイライトをMGLと呼称します。

<dl>
  <dt>SGB</dt>
  <dd>スーパーゲームボーイ、1994年6月14日発売</dd>
  <dt>SGB2</dt>
  <dd>スーパーゲームボーイ2、1998年1月30日発売</dd>
</dl>

> **Note:**  
> 通常、SGBはスーパーゲームボーイとスーパーゲームボーイ2の総称として使用されます。明確な区別が必要な場合にのみSGB2が使用されます。

<br>

---

# PREFACE: TO PUBLISHERS - パブリッシャの方へ

## ゲームボーイカラー向けソフトウェアの事前認可について

CGBソフトウェアをロットチェックへ提出して認可を得る前に、ライセンシー製品サポートグループへソフトウェアを提出し事前認可を得る必要があります。あなたのCGBソフトウェアやその他の製品に関する提案の評価をサポートする為です。資料を提出して<sup>※</sup>認可を得る際には、以下の要件を確認してください。

<span style="color: #777;">
  ※ 提出物は返還されませんので、資料やアートワークのオリジナルは提出しないでください。
</span>

CGBソフトウェアまたはその他の製品に関する提案は、以下の基準に基づいて評価されます:

* <u>色の使用について</u>  
ゲームボーイカラーのお客様の期待に応える為に、マリオクラブは以下の基準を用いて、全てのCGBゲーム (デュアル、または専用)における色の使用について評価します。
	* **差別化** - ゲームがCGB互換であると判断される為には、CGBハードウェアによって色付けされたその画面が、モノクロのゲームボーイのそれよりも非常にカラフルに見えなければなりません。主に、背景(BG)に使用されている色数と、オブジェクト(OBJ)に使用されている色数が判断基準となります。
	* **同時に表せる色数** - CGBハードウェアは、BGパレットに最大4色、2つのOBJパレットに最大6色 (3色x2)の色分けを、モノクロのゲームに対し自動的に行う事ができます。従って、CGBゲームはこの「自動色付け」よりも多くの色を表示しなければなりません。
	* **適切な色の使用** - 現実に基づくゲーム内のオブジェクト(例えば、木、岩、動物など)は、特別な理由がない限り、現実に則した配色であるべきです。架空のオブジェクトの場合は、適切に細部を描き、必要であれば、異なるオブジェクトと容易に区別できるような色を選択しなければなりません。
	* **色のバリエーション** - CGBは、広範囲の色を表示する事ができます(理論上は32,768色を生成できますが、それら全てを表示する事はできません)。CGBゲームではこの機能を活用し、オブジェクト、文字、領域その他あらゆる部分に関して、はっきりと異なる色を指定する必要があります。
	* **コントラストと彩度** - ゲームをよりカラフルに表現する為には、ハイコントラストである事と、飽和的または鮮やかな配色である事が重要です。白い背景の上にあるパステルカラーは、黒い背景の上にあるパステルカラーほどカラフルには見えないでしょう。もちろん、全てのゲームが黒い背景を採用する訳にはいきませんが、それでも、コントラストの強度はできる限り大きくする必要があります。

あなたのゲームがCGBのカラー機能をどのように活用するかについて、詳細に説明するか、または実証してください。アーティストによってレンダリングされた画像やプログラミングデモ、ROMイメージ、あるいは説明資料など、可能であれば様々な手段を使用してください。

* <u>ゲームのコンセプトとコンテンツ</u>  
オリジナルのCGBゲームに関しては、ゲームのコンセプトやコンテンツに関する特別な説明・評価は必要ありません。ただし、以前にモノクロのモデルにてリリースしたゲームをカラー化する事を考えている場合は、差別化を図る為に、単なる色の追加を除くコンテンツの機能強化を行う必要があります。このような機能強化の例としては、追加のステージ、レベル、またはエリアであったり、新しいシナリオやアイテム、そして、色を利用した新しいゲームプレイなどが挙げられますが、これらに拘る必要はありません。また、これらの機能強化は、オリジナルのモノクロゲームのプレイヤーにとって容易に理解できる内容でなければなりません。

事前認可を行う為に、機能強化に関する提案書を我々に提出してください。絵コンテやトリートメント、ビデオテープ、プログラミングデモなど、機能強化について伝える為の手段を一通り使用します。

> <訳者注>  
> トリートメントとは、絵コンテに軽い説明を書き加えたものの事です。

* <u>サンプルROMの提出</u>  
全てのCGBゲームでは、色の使用について事前に見直しをする為に、少なくとも1度 マリオクラブへサンプルROMを提出しなければなりません。サンプルROMを検証し、初期段階でフィードバックを提供する事で、プロジェクトのスケジュールをより堅牢なものにする事ができます。なお、最終的な事前認可は、開発完了直前のマリオクラブによるROMの評価に基づいて行われます。

ROMイメージの電子提出を希望する場合は、我々のテスティング・エンジニアリング部門(xxx) xxx-xxxxに問い合わせるか、電子メールにて"xxx@xxx.xxx.com"へお問い合わせください。あなたが検証の為に電子提出を行った場合は、彼に通知してください。

* <u>デベロッパに立候補する</u> - 開発を志望するデベロッパの名前、住所、電話番号をお知らせください。もしその人が正規のCGBデベロッパでない場合は、Xxx Xxx ("xxx@xxx.xxx.com"または(xxx) xxx-xxx)に連絡してください。アプリケーションに関する情報を提供します。

> <訳者注>  
> 命が惜しいので、この辺は伏字にしました。

* <u>スケジュール情報</u>  
サンプルROM提出、マリオクラブへの最終提出、ロットチェックへのマスターROM提出、発売日など、製品化に関するスケジュールの見積をお知らせください。

* <u>Game Pakの構成とゲームタイプ</u>  
想定されるGame Pakのサイズ(メガビット、Mb)と、もしゲームの情報を保存する為に内部メモリを利用する場合はそのRAMサイズをお知らせください。また、そのゲームがモノクロのゲームボーイと互換性があるのか、それともCGB専用のものであるのかについても決めておく必要があります。現在入手可能なGame Pakの価格と構成に関しては、任天堂ライセンス部門へお問い合わせください。

> <訳者注>  
> Game Pakは、任天堂のゲーム機で使用されるカートリッジの総称です。

<br>

---

> <訳者注>  
> 本来ならここに目次とリビジョン履歴があったのですが、アクセシビリティの為に冒頭へ移動させました。

<br>

---

# CHAPTER 1: SYSTEM - システム

## 1. GENERAL SYSTEM INFORMATION - システムの総合情報

### 1.1. システムの概要

#### 構造

DMG/CGBシステムの根幹を成すのは、DMG/CGB向けに設計されたLCDコントローラを内蔵するCPUです。

#### システム

<dl>
  <dt>DMG</dt>
  <dd>
    <ul>
      <li>グレースケール表示が可能なドットマトリクスLCDユニット</li>
      <li>64Kbit - SRAM (LCD表示用)</li>
      <li>64Kbit - SRAM (ワーキングメモリ)</li>
    </ul>
  </dd>
  <dt>CGB</dt>
  <dd>
    <ul>
      <li>32階調のRGB表示が可能なカラードットマトリクスLCDユニット</li>
      <li>128Kbit - SRAM (LCD表示用)</li>
      <li>256Kbit - SRAM (ワーキングメモリ)</li>
      <li>赤外線通信リンク (フォトトランジスタ、フォトLED)</li>
    </ul>
  </dd>
</dl>

#### DMG/CGB共通の機能

* 32ピン コネクタ (ROMカートリッジ接続用)
* 6ピン サブコネクタ (外部シリアル通信用)
* 電源用DC-DCコンバータ
* サウンドアンプ
* スピーカー
* ステレオヘッドホンコネクタ
* 外部電源用入力コネクタ

#### サポートするGame Pakタイプ

1. ゲームボーイGame Pak  
	(ゲームボーイ機能のみを使用するソフトウェア向け。ゲームボーイカラーで使用すると410色を表示できます)
1. ゲームボーイカラーGame Pak
	* CGBサポートGame Pak (CGB、DMG両方で使用可能)
	* CGB専用Game Pak (CGBのみで動作するソフトウェア向け)

#### 動作モード (以下のモードはCGBにのみ適用されます)

1. DMGモード (DMG向けソフトウェア実行時)  
CGBの新しいレジスタ、拡張メモリ領域、及びその他の新機能は使用されません。カラー向けのアプリケーションでは、事前に定義されたパレットデータBGP、OBP0、及びOBP1がシステムにより使用されます。
1. CGBモード (CGBサポート、またはCGB専用ソフトウェア実行時)  
CGBの新しいレジスタ、拡張メモリ領域、及びその他の新機能が利用できます。

> **Note:**  
> CGBモードで実行させるには、ある特定のコードをユーザプログラムのROMデータ領域に配置しておく必要があります。詳細は第5章2節「[ROM登録データのCGB認識データ (CGBのみ)]」を参照してください。

#### 電源

* バッテリ/ACアダプタ/バッテリ充電器

#### アクセサリ (1999年4月時点)

<dl>
  <dt>DMGアクセサリ</dt>
  <dd>
    <ul>
      <li>通信ケーブル</li>
      <li>バッテリ充電器アダプタ</li>
    </ul>
  </dd>
  <dt>CGBアクセサリ</dt>
  <dd>
    <ul>
      <li>通信ケーブル</li>
      <li>ACアダプタ</li>
      <li>バッテリパック充電キット</li>
    </ul>
  </dd>
</dl>

DMGの6ピンシリアル通信サブコネクタ及びACアダプタ入力コネクタは、MGB及びCGB向けのものと形状が異なります。その為、DMG専用とMGB/CGB専用の2種類のアクセサリが用意されています。また、DMGとMGB/CGBとの通信時には、変換ケーブルが必要となります。

### 1.2 ゲームボーイ ブロックダイヤグラム



### 1.3 メモリ構成

DMG及びCGBでは、\$0000から\$7FFFまでの32KiBがプログラム領域として使用できます。

<dl>
  <dt>0x0000-0x00FF:</dt>
  <dd>RST命令の宛先アドレス、及び割り込みの開始アドレスとして割り当てられています。</dd>
  <dt>0x0100-0x014F:</dt>
  <dd>ゲーム名などのデータを格納する為のROM領域として割り当てられています。</dd>
  <dt>0x0150:</dt>
  <dd>ユーザプログラムの開始アドレスとして割り当てられています。</dd>
</dl>

> <訳者注>  
> 原文では16進数を〜hと表記していますが、他の多くのドキュメントに合わせ、16進数は0x〜表記に統一します。加えて、差別化を図る為、アドレスを示す16進数は$〜と表記する事にします。  
> また、単位の表記はSI接頭辞を避ける方向で統一します。  
> 例: B、KB、MB → B、KiB、MiB

\$8000から\$9FFFまでの8KiBは、LCDディスプレイのRAMとして使用されます。CGBのLCDディスプレイ用RAMには、DMGの2倍である16KiB(8KiB x 2)が割り当てられています。このRAMは、バンク切り替えによって8KiB単位で使用する事ができます。この8KiBのRAM領域は、以下の2つの領域に分けられます。

1. キャラクタデータ領域
1. BG(背景)表示データ領域 (キャラクタコード、属性)

> <訳者注>  
> ここでいうキャラクタ(character)は、いわゆるタイル(tile)やスプライト(sprite)を指す言葉だと考えてください。文字(character)ではありません。

\$A000から\$BFFFまでの8KiBは、外部拡張RAM用に割り当てられた領域です。

\$C000から\$DFFFまでの8KiBは、ワーキングRAMです。  
DMGでは、通常通り8KiBのワーキングRAMが実装されています。CGBでは、バンク切り替えを利用して32KiBのワーキングRAMを提供しています。これらの32KiBの領域は、4KiB x 8に分割されています。

1. \$C000から\$CFFFまでの4KiBは、バンク0として固定されています。
1. \$D000から\$DFFFまでの4KiBは、バンク1から7を切り替える事ができるようになっています。

> **Note:**  
> \$E000から\$FDFFまでの領域の使用は禁止されています。

\$FE00から\$FFFFは、CPU内部のRAMとして割り当てられています。

<dl>
  <dt>\$FE00-\$FE9F</dt>
  <dd>OAM-RAM (40個のオブジェクトの表示データを保持します)</dd>
  <dt>\$FF00-\$FF7F & \$FFFF</dt>
  <dd>命令レジスタ、システム制御フラグなどの目的で利用されます。</dd>
  <dt>\$FF80-\$FFFE</dt>
  <dd>CPUのワーキングRAMやスタックとして利用できます。</dd>
</dl>

### 1.4 メモリマップ

### 1.5 機能比較

<table style="overflow-x: auto; text-align: left; white-space: nowrap; word-break: break-word;">
  <tbody>
    <tr>
      <th>機能</th>
      <th>DMG CPU</th>
      <th>CGB CPU</th>
    </tr>
    <tr>
    	<td>
          <strong>CPU速度</strong><br>
    	  <span style="margin-left: 1em;">(システム動作周波数)</span>
    	</td>
    	<td>
    	  1.05 MHz<br>
    	  <br>
    	</td>
    	<td>
    	  1.05 MHz (通常モード)<br>
    	  2.10 MHz (倍速モード)
    	</td>
    </tr>
    <tr>
      <td>
        <strong>ゲームボーイRAM</strong><br>
        <span style="margin-left: 1em;">ワーキング&スタックRAM</span><br>
        <span style="margin-left: 2em;">
            ワーキングRAM</span><br>
        <span style="margin-left: 2em;">OAM</span><br>
        <span style="margin-left: 1em;">LCD表示用</span>
      </td>
      <td>
        <br>
        127 x 8 bit<br>
        8,192 B<br>
        40 x 28 bit<br>
        8,192 B
      </td>
      <td>
        <br>
        ←<br>
        32,768 B<br>
        40 x 32 bit<br>
        16,384 B
      </td>
    </tr>
    <tr>
      <td>
        <strong>Game Pakメモリ容量</strong><br>
        <span style="margin-left: 1em;"></span>ROM (MBC<sup>※</sup>除く)<br>
        <span style="margin-left: 1em;">RAM (MBC除く)</span><br>
      </td>
      <td>
        <br>
        32,768 B<br>
        8,192 B
      </td>
      <td>
        <br>
        ←<br>
        ←<br>
      </td>
    </tr>
    <tr>
      <td>
        <strong>LCDコントローラ</strong><br>
        <span style="margin-left: 1em;">ディスプレイサイズ</span><br>
        <span style="margin-left: 1em;">ブロックの構造</span><br>
        <span style="margin-left: 2em;"></span>BG、ウィンドウ<br>
        <span style="margin-left: 2em;"></span>オブジェクト<br>
        <span style="margin-left: 1em;"></span>使用可能なキャラクタ数<br>
        <span style="margin-left: 2em;">BG</span><br>
        <span style="margin-left: 2em;">OBJ 8 x 8</span><br>
        <span style="margin-left: 2em;"></span>OBJ 8 x 16<br>
        <span style="margin-left: 1em;">グレースケール: BG、ウィンドウ</span><br>
        <br>
        <span style="margin-left: 1em;">グレースケール: オブジェクト</span><br>
        <br>
        <span style="margin-left: 1em;">オブジェクト優先度</span><br>
        <span style="margin-left: 2em;">X座標が異なる場合</span><br>
        <br>
        <span style="margin-left: 2em;">X座標が等しい場合</span><br>
      </td>
      <td>
        <br>
        160 x 144 ドット<br>
        <br>
        8 x 8 ドット<br>
        8 x 8 or 8 x 16 ドット<br>
        <br>
        256<br>
        256<br>
        128<br>
        4階調、1パレット<br>
        <br>
        3階調、2パレット<br>
        <br>
        <br>
        X座標の小さいものが優先<br>
        <br>
        OBJ番号の小さいものが優先
      </td>
      <td>
        <br>
        160 x 144 RGBドット<br>
        <br>
        ←<br>
        ←<br>
        <br>
        512<br>
        512<br>
        256<br>
        4色、8パレット<br>
        (DMGモード: 4色、1パレット)<br>
        3色、8パレット<br>
        (DMGモード: 3色、2パレット)<br>
        <br>
        OBJ番号の小さいものが優先<br>
        (DMGモード: X座標の小さいものが優先)<br>
        ←
      </td>
    </tr>
  </tbody>
</table>

←: 左の列と同じ

> <訳者注>  
> MBC (※)はメモリバンクコントローラ(Memory Bank Controller)の略称です。MBCは、バンク切り替えを行う為の装置です。

### 1.6 レジスタ比較

<table style="overflow-x: auto; text-align: left; white-space: nowrap; word-break: break-word;">
  <tbody>
    <tr>
      <th></th>
      <th colspan="2">DMG CPU</th>
      <th colspan="2">CGB CPU</th>
    </tr>
    <tr>
      <th>機能</th>
      <th>レジスタ</th>
      <th>アドレス</th>
      <th>レジスタ</th>
      <th>アドレス</th>
    </tr>
    <tr>
      <td>
        ポート/モード レジスタ<br>
        <br>
        <br>
        <br>
        <br>
        <br>
        <br>
        <br>
        <br>
      </td>
      <td>
        P1<br>
        SB<br>
        SC<br>
        DIV<br>
        TIMA<br>
        TMA<br>
        TAC<br>
        <br>
        <br>
      </td>
      <td>
        $FF00<br>
        $FF01<br>
        $FF02<br>
        $FF04<br>
        $FF05<br>
        $FF06<br>
        $FF07<br>
        -<br>
        -
      </td>
      <td>
        ←<br>
        ←<br>
        ←<br>
        ←<br>
        ←<br>
        ←<br>
        ←<br>
        KEY1<br>
        RP
      </td>
      <td>
        ←<br>
        ←<br>
        ←<br>
        ←<br>
        ←<br>
        ←<br>
        ←<br>
        $FF4D<br>
        $FF56
      </td>
    </tr>
    <tr>
      <td>
        バンク制御 レジスタ<br>
        <br>
      </td>
      <td>
        <br>
        <br>
      </td>
      <td>
        -<br>
        -
      </td>
      <td>
        VBK<br>
        SVBK
      </td>
      <td>
        $FF4F<br>
        $FF70
      </td>
    </tr>
    <tr>
      <td>
        割り込みフラグ<br>
        <br>
        <br>
      </td>
      <td>
        IF<br>
        IE<br>
        IME
      </td>
      <td>
        $FF0F<br>
        $FFFF<br>
        <br>
      </td>
      <td>
        ←<br>
        ←<br>
        ←
      </td>
      <td>
        ←<br>
        ←<br>
        <br>
      </td>
    </tr>
    <tr>
      <td>
        LCD表示 レジスタ<br>
        <br>
        <br>
        <br>
        <br>
        <br>
        <br>
        <br>
        <br>
        <br>
        <br>
        <br>
        <br>
        <br>
        <br>
        <br>
        <br>
        <br>
        <br>
        <br>
        <br>
        <br>
        <br>
      </td>
      <td>
        LCDC<br>
        STAT<br>
        SCY<br>
        SCX<br>
        LY<br>
        LYC<br>
        DMA<br>
        BGP<br>
        OBP0<br>
        OBP1<br>
        WX<br>
        WY<br>
        <br>
        <br>
        <br>
        <br>
        <br>
        <br>
        <br>
        <br>
        <br>
        <br>
        OAM
      </td>
      <td>
        $FF40<br>
        $FF41<br>
        $FF42<br>
        $FF43<br>
        $FF44<br>
        $FF45<br>
        $FF46<br>
        $FF47<br>
        $FF48<br>
        $FF49<br>
        $FF4A<br>
        $FF4B<br>
        -<br>
        -<br>
        -<br>
        -<br>
        -<br>
        -<br>
        -<br>
        -<br>
        -<br>
        <br>
        $FE00-$FE9F
      </td>
      <td>
        ←<br>
        ←<br>
        ←<br>
        ←<br>
        ←<br>
        ←<br>
        ←<br>
        ←<br>
        ←<br>
        ←<br>
        ←<br>
        ←<br>
        HDMA1<br>
        HDMA2<br>
        HDMA3<br>
        HDMA4<br>
        HDMA5<br>
        BCPS<br>
        BCPD<br>
        OCPS<br>
        OCPD<br>
        <br>
        ←
      </td>
      <td>
        ←<br>
        ←<br>
        ←<br>
        ←<br>
        ←<br>
        ←<br>
        ←<br>
        ←<br>
        ←<br>
        ←<br>
        ←<br>
        ←<br>
        $FF51<br>
        $FF52<br>
        $FF53<br>
        $FF54<br>
        $FF55<br>
        $FF68<br>
        $FF69<br>
        $FF6A<br>
        $FF6B<br>
        <br>
        ←
      </td>
    </tr>
    <tr>
      <td>
        サウンド レジスタ<br>
        <br>
      </td>
      <td>
        NRxx<br>
        波形RAM
      </td>
      <td>
        $FF10-$FF26<br>
        $FF30-$FF3F
      </td>
      <td>
        ←<br>
        ←
      </td>
      <td>
        ←<br>
        ←
      </td>
    </tr>
  </tbody>
</table>
